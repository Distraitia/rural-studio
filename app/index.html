<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- BC_OBNW -->
<head>
	<title>Welcome - Rural Studio</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	
	<link href="StyleSheets/ModuleStyleSheets.css" type="text/css" rel="StyleSheet" />
	<script type="text/javascript">var jslang='EN';</script>
	<link href="stylesheets/styles.css" type="text/css" rel="stylesheet" />
	<link href="stylesheets/photoswipe.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="stylesheets/jquery.fancybox-v=2.0.5.css" type="text/css" media="screen" />
	<script type="text/javascript" src="sites/use.typekit.com/thh3cpj.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<script type="text/javascript" src="javascripts/css3-mediaqueries.js"></script>
	<script type="text/javascript" src="javascripts/klass.min.js"></script>
	<script type="text/javascript" src="sites/ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
	<script type="text/javascript" src="javascripts/code.photoswipe.jquery-3.0.4.js"></script>
	<script type="text/javascript" src="javascripts/jquery.fancybox.pack-v=2.0.5.js"></script>
	<script type="text/javascript" src="sites/www.google.com/jsapi.js"></script>
	<meta charset="utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<link rel="stylesheet" href="CatalystStyles/Box-vs=b1619.r457034-phase1.css" type="text/css" media="screen" />
	<script type="text/javascript" src="CatalystScripts/Java_Box-vs=b1619.r457034-phase1.js"></script>
	
	<link rel="stylesheet" href="styles/mobile.css">
	<script type="text/javascript" src="scripts/mobile.js"></script>
</head>
<body>
	<div id="header">
		<ul id="nav">
			<li class="colorLink" id="navHome"><a href="index.html" class="first-nav">RURAL STUDIO</a></li>
			<li id="navAbout"><a href="about.html">About</a></li>
			<li id="navPeople"><a href="people.html">People</a></li>
			<li id="navProcess"><a href="process.html">Process</a></li>
			<li id="navPrograms"><a href="programs.html">Programs</a></li>
			<li id="navProjects"><a href="projects.html">Projects</a></li>
			<li id="navConnect"><a href="connect.html">Connect</a></li>
			<li id="navGetInvolved"><a href="get-involved.html">Get Involved</a></li>
			<li id="navDonate"><a href="http://supportruralstudio.com" target="_blank">Donate</a></li>
			<!--
			<li id="navInitiatives"><a href="/initiatives.html">Initiatives</a></li>
			<li id="navHandCraft"><a href="/hand-craft.html">Hand Craft</a></li>
			<li id="navBlogs"><a href="http://ruralstudioblogs.org/">Blogs</a></li>
			-->
			<li id="navRs20"><a href="programs/rs20-20th-anniversary.html">RS20</a></li>
		</ul>
		<ul id="nav-right">
			<li id="navAuburn"><a href="http://www.auburn.edu/">AUBURN UNIVERSITY</a></li>
		</ul>
	</div>
<script>    	
var BCWebAppProject = {};

BCWebAppProject.homeimage = {
//random image 
"image":"/project-images/20Kv8-daves-house/2009_20Kv8_TH_96977c3.jpg", 
"title":"Image: Timothy Hursley | Project: 20K v8 Dave's House"
}

BCWebAppProject.allpageslist =
[
//home page
"http://ruralstudio.businesscatalyst.com/",
//about pages
"programs/rs20-20th-anniversary.html",
"http://www.ruralstudio.org/about/hale-county-alabama",
"http://www.ruralstudio.org/about/faqs",
"http://www.ruralstudio.org/about/events",
"http://www.ruralstudio.org/about/awards",
"http://www.ruralstudio.org/about/media-coverage",
"http://www.ruralstudio.org/about/exhibits",
"http://www.ruralstudio.org/about/books-film-websites",

//people pages
"http://www.ruralstudio.org/people/students",
"http://www.ruralstudio.org/people/faculty",
"http://www.ruralstudio.org/people/staff",
"http://www.ruralstudio.org/people/consultants",
"http://www.ruralstudio.org/people/2012",
"http://www.ruralstudio.org/people/mockbee",
"http://www.ruralstudio.org/people/d-k-ruth",
"http://www.ruralstudio.org/people/alumni-2014",
"http://www.ruralstudio.org/people/alumni-2013",
"http://www.ruralstudio.org/people/alumni-2012",
"http://www.ruralstudio.org/people/alumni-2011",
"http://www.ruralstudio.org/people/alumni-2010",
"http://www.ruralstudio.org/people/alumni-2009",
"http://www.ruralstudio.org/people/alumni-2008",
"http://www.ruralstudio.org/people/alumni-2007",
"http://www.ruralstudio.org/people/alumni-2006",
"http://www.ruralstudio.org/people/alumni-2005",
"http://www.ruralstudio.org/people/alumni-2004",
"http://www.ruralstudio.org/people/alumni-2003",
"http://www.ruralstudio.org/people/alumni-2002",
"http://www.ruralstudio.org/people/alumni-2001",
"http://www.ruralstudio.org/people/alumni-2000",
"http://www.ruralstudio.org/people/alumni-1999",
"http://www.ruralstudio.org/people/alumni-1998",
"http://www.ruralstudio.org/people/alumni-1997",

//process pages
"http://www.ruralstudio.org/process/test-page",

//program pages
"http://www.ruralstudio.org/programs/third-year",
"http://www.ruralstudio.org/programs/thesis",
"http://www.ruralstudio.org/programs/outreach",
"http://www.ruralstudio.org/programs/woodshop",
"http://www.ruralstudio.org/programs/watercolor",
"http://www.ruralstudio.org/programs/hand-drawing",
"http://www.ruralstudio.org/programs/20k-house-product-line",
"programs/rs20-20th-anniversary.html",

//project pages
"http://www.ruralstudio.org/projects/20kv1-elizabeths-house",
"http://www.ruralstudio.org/projects/20k-v2-franks-house",
"http://www.ruralstudio.org/projects/20k-v3-32k-house",
"http://www.ruralstudio.org/projects/20kv4-pattern-book-house",
"http://www.ruralstudio.org/projects/20kv5-loft-house",
"http://www.ruralstudio.org/projects/20kv6-roundwood-house",
"http://www.ruralstudio.org/projects/20kv7-bridge-house",
"http://www.ruralstudio.org/projects/20k-v8-daves-house",
"http://www.ruralstudio.org/projects/20k-v9-macs-house",
"http://www.ruralstudio.org/projects/20k-v10-joannes-house",
"http://www.ruralstudio.org/projects/20k-v11-turners-house",
"http://www.ruralstudio.org/projects/20k-v12-eddies-house",
"http://www.ruralstudio.org/projects/20kv13-sylvias-house",
"http://www.ruralstudio.org/projects/20k-v14-bobbys-house",
"http://www.ruralstudio.org/projects/20k-v15-idellas-house",
"http://www.ruralstudio.org/projects/20k-v16-michelles-house",
"http://www.ruralstudio.org/projects/20kv17",
"http://www.ruralstudio.org/projects/akron-boys-girls-club-1",
"http://www.ruralstudio.org/projects/akron-boys-girls-club",
"http://www.ruralstudio.org/projects/akron-pavilion",
"http://www.ruralstudio.org/projects/akron-senior-center",
"http://www.ruralstudio.org/projects/antioch-baptist-church",
"http://www.ruralstudio.org/projects/architecture-ambulance",
"http://www.ruralstudio.org/projects/bodark-amphitheater",
"http://www.ruralstudio.org/projects/bryant-haybale-house",
"http://www.ruralstudio.org/projects/chantilly-house",
"http://www.ruralstudio.org/projects/christine-papercrete-house",
"http://www.ruralstudio.org/projects/composting-privy-bathhouse",
"http://www.ruralstudio.org/projects/corrugated-cardboard-pod",
"http://www.ruralstudio.org/projects/glass-chapel",
"http://www.ruralstudio.org/projects/goat-house",
"http://www.ruralstudio.org/projects/great-hall",
"http://www.ruralstudio.org/projects/greensboro-boys-and-girls-club",
"http://www.ruralstudio.org/projects/hale-county-animal-shelter",
"http://www.ruralstudio.org/projects/hale-county-hospital-courtyard",
"http://www.ruralstudio.org/projects/harris-butterfly-house",
"http://www.ruralstudio.org/projects/hero-childrens-center",
"http://www.ruralstudio.org/projects/hero-knowledge-cafe",
"http://www.ruralstudio.org/projects/hero-playground",
"http://www.ruralstudio.org/projects/lewis-house",
"http://www.ruralstudio.org/projects/lions-park-baseball-fields",
"http://www.ruralstudio.org/projects/lions-park-concessions",
"http://www.ruralstudio.org/projects/lions-park-fitness",
"http://www.ruralstudio.org/projects/lions-park-hub",
"http://www.ruralstudio.org/projects/lions-park-landscape",
"http://www.ruralstudio.org/projects/lions-park-playscape",
"http://www.ruralstudio.org/projects/lions-park-restrooms",
"http://www.ruralstudio.org/projects/lions-park-scouts",
"http://www.ruralstudio.org/projects/lions-park-shade",
"http://www.ruralstudio.org/projects/lions-park-skatepark",
"http://www.ruralstudio.org/projects/lions-park-surfaces",
"http://www.ruralstudio.org/projects/lucy-carpet-house",
"http://www.ruralstudio.org/projects/masons-bend-basketball-court",
"http://www.ruralstudio.org/projects/michelles-house",
"http://www.ruralstudio.org/projects/morrisette-house-kitchen",
"http://www.ruralstudio.org/projects/music-man-house",
"http://www.ruralstudio.org/projects/newbern-baseball-club",
"http://www.ruralstudio.org/projects/newbern-fire-station",
"http://www.ruralstudio.org/projects/newbern-library",
"http://www.ruralstudio.org/projects/newbern-little-league",
"http://www.ruralstudio.org/projects/newbern-playground",
"http://www.ruralstudio.org/projects/newbern-town-hall",
"http://www.ruralstudio.org/projects/ole-mae-porch",
"http://www.ruralstudio.org/projects/organic-vegetable-stand",
"http://www.ruralstudio.org/projects/outside-in",
"http://www.ruralstudio.org/projects/patrick-house",
"http://www.ruralstudio.org/projects/perry-county-learning-center",
"http://www.ruralstudio.org/projects/perry-lakes-park-birding-tower",
"http://www.ruralstudio.org/projects/perry-lakes-park-covered-bridge",
"http://www.ruralstudio.org/projects/perry-lakes-park-pavilion",
"http://www.ruralstudio.org/projects/perry-lakes-park-restrooms",
"http://www.ruralstudio.org/projects/pods",
"http://www.ruralstudio.org/projects/rose-lee-and-jasons-houses",
"http://www.ruralstudio.org/projects/rose-lee-house",
"http://www.ruralstudio.org/projects/rural-heritage-center-gift-shop",
"http://www.ruralstudio.org/projects/rural-heritage-center-headquarters",
"http://www.ruralstudio.org/projects/rural-studio-woodshop",
"http://www.ruralstudio.org/projects/solar-greenhouse-phase-1",
"http://www.ruralstudio.org/projects/solar-greenhouse-phase-2",
"http://www.ruralstudio.org/projects/solar-greenhouse-phase-3",
"http://www.ruralstudio.org/projects/rural-studio-farm-food-storage",
"http://www.ruralstudio.org/projects/safe-house-museum",
"http://www.ruralstudio.org/projects/sanders-dudley-house-phase-1",
"http://www.ruralstudio.org/projects/sanders-dudley-house-phase-2",
"http://www.ruralstudio.org/projects/seed-house",
"http://www.ruralstudio.org/projects/shiles-house",
"http://www.ruralstudio.org/projects/smoke-house",
"http://www.ruralstudio.org/projects/spencer-house",
"http://www.ruralstudio.org/projects/spencer-house-kitchen",
"http://www.ruralstudio.org/projects/st-lukes-church",
"http://www.ruralstudio.org/projects/st-lukes-phase-2",
"http://www.ruralstudio.org/projects/subrosa",
"http://www.ruralstudio.org/projects/sunshine-school",
"http://www.ruralstudio.org/projects/supershed",
"http://www.ruralstudio.org/projects/thinnings-bathhouse",
"http://www.ruralstudio.org/projects/thinnings-bridge",
"http://www.ruralstudio.org/projects/thinnings-teahouse",
"http://www.ruralstudio.org/projects/thomaston-farmers-market",
"http://www.ruralstudio.org/projects/utility-now",
"http://www.ruralstudio.org/projects/willie-bell-house",
"http://www.ruralstudio.org/projects/wilson-house",
"http://www.ruralstudio.org/projects/yancey-tire-chapel",

//initiatives pages
"http://www.ruralstudio.org/initiatives/20k-house",

//hand craft pages
"http://www.ruralstudio.org/handcraft/hand-drawing",
"http://www.ruralstudio.org/handcraft/water-color",
"http://www.ruralstudio.org/handcraft/wood-working",

//connect page
"http://ruralstudio.businesscatalyst.com/connect.html",
//get involved pages
"http://www.ruralstudio.org/get-involved/apply-for-outreach",
"http://www.ruralstudio.org/get-involved/contribute",
"http://www.ruralstudio.org/get-involved/tour",
"http://www.ruralstudio.org/get-involved/volunteer",
"http://www.ruralstudio.org/get-involved/work-for-us",

]
</script>
<script>
(function(window, $, PhotoSwipe){

	$(document).ready(function(){



		$('#slides').hide();

		/* get the page content markup and put it cleanly into a variabl*/
		var descriptionHTML = $('#copy').clone();
		var descriptionHTMLguts = descriptionHTML[0].innerHTML;
//console.log(descriptionHTMLguts);


/* http://www.guyfromchennai.com/?p=2*/
Array.prototype.findIndex = function(value){
	var ctr = "";
	for (var i=0; i < this.length; i++) {
// use === to check for Matches. ie., identical (===), ;
if (this[i] == value) {
	return i;
}
}
return ctr;
};



var thisprevpage;
var thisnextpage;
var thisPageIndex = BCWebAppProject.allpageslist.findIndex(document.URL);
var pagetotal = (BCWebAppProject.allpageslist.length - 1);
console.log('pages:'+pagetotal);
// first one?
if (thisPageIndex == 0) 
{ 
	thisprevpage = BCWebAppProject.allpageslist[pagetotal];
	thisnextpage = BCWebAppProject.allpageslist[(thisPageIndex + 1)];
}
// last one?
else if (thisPageIndex == pagetotal) 
{ 
	thisprevpage = BCWebAppProject.allpageslist[(thisPageIndex - 1)];
	thisnextpage = BCWebAppProject.allpageslist[0];			
}
// normal up/down the array
else 
{
	thisprevpage = BCWebAppProject.allpageslist[(thisPageIndex - 1)];
	thisnextpage = BCWebAppProject.allpageslist[(thisPageIndex + 1)];
}



console.log("thisprevpage: "+thisprevpage);
console.log("thisnextpage: "+thisnextpage);
console.log("thisPageIndex: "+thisPageIndex);

BCWebAppProject.slides = 
{ 

	'1-image'				:	BCWebAppProject.homeimage['image'],
	'1-image-credit'		:	BCWebAppProject.homeimage['title'],
	'prevpage'				:	thisprevpage,
	'nextpage'				:	thisnextpage,
	'copycontent'			:	'<table style="height:100%"><tr><td>'+descriptionHTMLguts+'</td></tr></table>',


};

console.log(BCWebAppProject.slides);

BCWebAppProject.instance = [];

var imagecount = 1;

function SlideFieldDetector (slidenumber, source, output) {		

	if (BCWebAppProject.slides[source] != ""){
		slidenumber[output] = BCWebAppProject.slides[source];
	}
}


if (BCWebAppProject.slides["1-image"]){
//we have the first image, so start array for slide 1
BCWebAppProject.slide1 = {};
SlideFieldDetector(BCWebAppProject.slide1, '1-image', 'url');
SlideFieldDetector(BCWebAppProject.slide1, '1-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide1, 'copycontent', 'copycontent');
SlideFieldDetector(BCWebAppProject.slide1, 'prevpage', 'prevpage');

console.log(BCWebAppProject.slide1);
BCWebAppProject.instance.push(BCWebAppProject.slide1);
}

if (BCWebAppProject.slides["2-image"]){
//we have the second image, so start array for slide 2
BCWebAppProject.slide2 = {};
SlideFieldDetector(BCWebAppProject.slide2, '2-image', 'url');
SlideFieldDetector(BCWebAppProject.slide2, '2-image-credit', 'photocredit');
BCWebAppProject.instance.push(BCWebAppProject.slide2);	
}

if (BCWebAppProject.slides["3-image"]){
//we have the third image, so start array for slide 3
BCWebAppProject.slide3 = {};
SlideFieldDetector(BCWebAppProject.slide3, '3-image', 'url');
SlideFieldDetector(BCWebAppProject.slide3, '3-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide3, '3-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide3, '3-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide3, '3-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide3);	
}				

if (BCWebAppProject.slides["4-image"]){
//we have the fourth image, so start array for slide 4
BCWebAppProject.slide4 = {};
SlideFieldDetector(BCWebAppProject.slide4, '4-image', 'url');
SlideFieldDetector(BCWebAppProject.slide4, '4-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide4, '4-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide4, '4-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide4, '4-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide4);	
}	

if (BCWebAppProject.slides["5-image"]){
//we have the fifth image, so start array for slide 5
BCWebAppProject.slide5 = {};
SlideFieldDetector(BCWebAppProject.slide5, '5-image', 'url');
SlideFieldDetector(BCWebAppProject.slide5, '5-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide5, '5-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide5, '5-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide5, '5-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide5);	
}	

if (BCWebAppProject.slides["6-image"]){
//we have the sixth image, so start array for slide 6
BCWebAppProject.slide6 = {};
SlideFieldDetector(BCWebAppProject.slide6, '6-image', 'url');
SlideFieldDetector(BCWebAppProject.slide6, '6-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide6, '6-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide6, '6-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide6, '6-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide6);	
}

if (BCWebAppProject.slides["7-image"]){
//we have the seventh image, so start array for slide 7
BCWebAppProject.slide7 = {};
SlideFieldDetector(BCWebAppProject.slide7, '7-image', 'url');
SlideFieldDetector(BCWebAppProject.slide7, '7-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide7, '7-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide7, '7-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide7, '7-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide7);	
}												

if (BCWebAppProject.slides["8-image"]){
//we have the eigth image, so start array for slide 8
BCWebAppProject.slide8 = {};
SlideFieldDetector(BCWebAppProject.slide8, '8-image', 'url');
SlideFieldDetector(BCWebAppProject.slide8, '8-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide8, '8-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide8, '8-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide8, '8-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide8);	
}				

if (BCWebAppProject.slides["9-image"]){
//we have the nineth image, so start array for slide 9
BCWebAppProject.slide9 = {};
SlideFieldDetector(BCWebAppProject.slide9, '9-image', 'url');
SlideFieldDetector(BCWebAppProject.slide9, '9-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide9, '9-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide9, '9-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide9, '9-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide9);	
}

if (BCWebAppProject.slides["10-image"]){
//we have the tenth image, so start array for slide 10
BCWebAppProject.slide10 = {};
SlideFieldDetector(BCWebAppProject.slide10, '10-image', 'url');
SlideFieldDetector(BCWebAppProject.slide10, '10-image-credit', 'photocredit');
SlideFieldDetector(BCWebAppProject.slide10, '10-caption', 'caption');
SlideFieldDetector(BCWebAppProject.slide10, '10-caption-position', 'captionPosition');
SlideFieldDetector(BCWebAppProject.slide10, '10-video', 'videoURL');
BCWebAppProject.instance.push(BCWebAppProject.slide10);	
}

console.log(BCWebAppProject.instance);

/* add the "next page" link to the last slid*/
var arrayLength =BCWebAppProject.instance.length;
//console.log(arrayLength);
BCWebAppProject.instance[(arrayLength-1)].nextpage = BCWebAppProject.slides['nextpage'];


/*				$.each(BCWebAppProject.slides, function(key, value) { 
//console.log(key+"  "+value);
//PAGE 1
if (key == '1-image' && value) { 
BCWebAppProject.options[slide1] = {};
BCWebAppProject.options.slide1['url'] = value;
//BCWebAppProject.options.push(slide1);
};			

if (key == '1-image-credit' && value) { 
console.log("found credit");					
//BCWebAppProject.options.slide1['photocredit'] = value
console.log(BCWebAppProject.options);
};


if (key == '2-image' && value) { imagecount++; };
if (key == '3-image' && value) { imagecount++; };
if (key == '4-image' && value) { imagecount++; };
if (key == '5-image' && value) { imagecount++; };
if (key == '6-image' && value) { imagecount++; };
if (key == '7-image' && value) { imagecount++; };
if (key == '8-image' && value) { imagecount++; };
if (key == '9-image' && value) { imagecount++; };
if (key == '10-image' && value) { imagecount++; };
});

//console.log('images: '+imagecount)*/	


var	options = {
	target: window.document.querySelectorAll('#PhotoSwipeTarget')[0],
	imageScaleMethod: 'fitHeightZoomWidth',
	preventHide: true,
	loop: false,
	enableMouseWheel: false,
	captionAndToolbarHide:false,
	autoStartSlideshow:false,
	captionAndToolbarAutoHideDelay:0,

	getImageSource: function(obj){
		return obj.url;
	},
	getImageCaption: function(obj){
		return obj.caption;
	},
	getImageMetaData: function(obj){
		return {photocredit: obj.photocredit,
			caption: obj.caption, 
			captionPos: obj.captionPosition, 
			mainTitle:obj.title,
			contentCopy: obj.copycontent, 
			videoURL: obj.videoURL, 
			nextpage: obj.nextpage, 
			prevpage: obj.prevpage
		};			
	},
	getToolbar: function(){
		return '<div class="ps-toolbar-previous"><div class="ps-toolbar-content"></div></div><div class="ps-toolbar-next"><div class="ps-toolbar-content"></div></div>';
// NB. Calling PhotoSwipe.Toolbar.getToolbar() wil return the default toolbar HTML
},

getImageCaption: function(obj){
	var captionText, captionEl;
}
},
instance = PhotoSwipe.attach(BCWebAppProject.instance, options);
/*
[
{
url: '{tag_1-image_value}',  
photocredit: '{tag_1-image credit}',	
title: '<h1>{tag_project title}</h1>', 
titleSub : '<p>{tag_location} / {tag_year} / {tag_program}</p>', 
prevpage:'http://www.google.com/?q=artichoke'
},
{
url: '{tag_2-image_value}', 
photocredit: '{tag_2-image credit}',
titleContent : '<h1>{tag_project title}</h1>', 
subheadContent : '<p>{tag_location} / {tag_year} / {tag_program}</p>',
relatedContent : '<p>Related: &nbsp&nbsp&nbsp&nbsp {tag_classifications}</p>',
copyContent : '<table style="height:100%"><tr><td>'+descriptionHTMLguts+'</td></tr></table>'
},
{
url: '{tag_3-image_value}', 
photocredit: '{tag_3-image credit}',
caption: '<p>{tag_3-caption}</p>',
captionPosition:'{tag_3-caption position}',
photocredit: 'Burly Manwich'
},
{
url: '{tag_4-image_value}', 
photocredit: '{tag_4-image credit}',
caption: '<p>{tag_4-caption}</p>',
captionPosition:'{tag_4-caption position}',
videoURL:'{tag_4-video}'
},
{
url: '{tag_5-image_value}', 
photocredit: '{tag_5-image credit}',
caption: '<p>{tag_5-caption}</p>',
captionPosition:'{tag_5-caption position}',
videoURL:'{tag_5-video}'
},
{
url : '{tag_6-image_value}', 
photocredit: '{tag_6-image credit}',
caption: '<p>{tag_6-caption}</p>',
captionPosition:'{tag_6-caption position}',
videoURL:'{tag_6-video}'
},
{
url : '{tag_7-image_value}', 
photocredit: '{tag_7-image credit}',
caption: '<p>{tag_7-caption}</p>',
captionPosition:'{tag_7-caption position}', 
videoURL:'{tag_7-video}'
},
{
url : '{tag_8-image_value}', 
photocredit: '{tag_8-image credit}',
caption: '<p>{tag_8-caption}</p>',
captionPosition:'{tag_8-caption position}', 
videoURL:'{tag_8-video}'
},
{
url : '{tag_9-image_value}', 
photocredit: '{tag_9-image credit}',
caption: '<p>{tag_9-caption}</p>',
captionPosition:'{tag_9-caption position}', 
videoURL:'{tag_9-video}'
},
{
url : '{tag_10-image_value}', 
photocredit: '{tag_10-image credit}',
caption: '<p>{tag_10-caption}</p>',
captionPosition:'{tag_10-caption position}', 
videoURL:'{tag_10-video}',
nextpage:'http://www.google.com/?q=tomato'
}						


], 
options 
)*/												
// this stuff handles most of our custom hacks	
instance.addEventHandler(PhotoSwipe.EventTypes.onDisplayImage, function(e){
//safty hide
$('#photo-credit').hide();	
$('#slidecaption').hide();	
$('#titlebox').hide();
$('#contentbox').hide();
$('#playbutton').hide();



var currentImage = instance.getCurrentImage();
//console.log(currentImage.metaData.photocredit);
//console.log(currentImage.metaData.caption);

//CREDITING
if(currentImage.metaData.photocredit){
	//if there is a photo credit, display it
	$('#photo-credit').html(currentImage.metaData.photocredit);
	$('#photo-credit').fadeIn();
	var creditClone = $('#photo-credit').clone().attr('id','photo-credit-mobile').appendTo($('#PhotoSwipeTarget'));						
}

//CAPTIONING
if(currentImage.metaData.caption){
//if there is a caption, display it
$('#slidecaption').html(currentImage.metaData.caption);//put in caption info
//handles positioning							
switch(currentImage.metaData.captionPos){					
	case '1':
	$('#slidecaption').removeClass().addClass('quad1');
	break;
	case '2':
	$('#slidecaption').removeClass().addClass('quad2');
	break;	
	case '3':
	$('#slidecaption').removeClass().addClass('quad3');
	break;		
	case '4':
	$('#slidecaption').removeClass().addClass('quad4');
	break;	
	default: case undefined:
	$('#slidecaption').removeClass().addClass('quad2');
	break;	
}				

$('#slidecaption').fadeTo(250, .8);

} else {
//otherwise, hide the photocredit element
$('#slidecaption').hide();							
}


//MAIN TITLE (pg 1)
if(currentImage.metaData.mainTitle){
	$('#titlehead').html(currentImage.metaData.mainTitle);
	$('#titlebox').fadeIn(250);
};
//MAIN SUBHEAD (pg1)
if(currentImage.metaData.mainSubHead){
	$('#titlesub').html(currentImage.metaData.mainSubHead);
	$('#titlebox').fadeIn(250);
};
//CONTENT TITLE (pg2)
if(currentImage.metaData.contentTitle){
	$('#pagetitle').html(currentImage.metaData.contentTitle);
	$('#contentbox').fadeIn(250);
};
// CONTENT SUBHEAD
if(currentImage.metaData.contentSubHead){
	$('#subhead').html(currentImage.metaData.contentSubHead);
	$('#contentbox').fadeIn(250);
};
// CONTENT RELATED
if(currentImage.metaData.contentRelated){
	$('#related').html(currentImage.metaData.contentRelated);
	$('#contentbox').fadeIn(250);
};
// CONTENT COPY
if(currentImage.metaData.contentCopy){
	$('#copy').html(currentImage.metaData.contentCopy);
	$('#contentbox').fadeIn(250);
};
if(currentImage.metaData.videoURL){
	$('#playbutton').fadeIn(250);
	var myVideoURL=currentImage.metaData.videoURL+"?autoplay=1";
	$('#playbutton a').attr('href',myVideoURL);					
//	var currentImage = instance.getCurrentImage();
//	var mylink=currentImage.metaData.linkout;
//	.attr("href")
};






});


// allows linking out to another url when you tap the image.
/*	if(currentImage.metaData.linkout){
$('#playbutton').fadeIn(250);					
//	var currentImage = instance.getCurrentImage();
window.location=currentImage.metaData.linkout;
}
}

}*/

/*

$(window).live('touchstart',  function(e){
//hide elements, when scrolling
console.log('touchstart');
$('#photo-credit').hide();	
$('#slidecaption').hide();	
$('#titlebox').hide();
$('#contentbox').hide();
});
*/
instance.addEventHandler(PhotoSwipe.EventTypes.onTouch, function(e){
	var currentImage = instance.getCurrentImage();
// allows linking out to another url when you tap the image.
if(currentImage.metaData.linkout){
/*
if (e.action === 'tap'){						
var currentImage = instance.getCurrentImage();
window.open(currentImage.metaData.linkout);
}
*/
}

});
instance.addEventHandler(PhotoSwipe.Carousel.EventTypes.onSlideshowNext, function(e){
//var currentImage = instance.getCurrentImage();
console.log('onNext');
//hide elements, when scrolling
/*
console.log('event');
$('#photo-credit').hide();	
$('#slidecaption').hide();	
$('#titlebox').hide();
$('#contentbox').hide();
*/

});


instance.show(0);

});



}(window, window.jQuery, window.Code.PhotoSwipe));
</script>
<div id="PhotoSwipeTarget" style="height: 500px;"></div>
<div id="contentbox">
	<div id="contentinnerwrap">
		<div id="copy">
			<h1>Welcome.</h1>
			<p>Rural Studio is an undergraduate program of the School of Architecture, Planning and Landscape Architecture at Auburn University. We have been in Hale County since 1993, where we hope we have been a good neighbor and friend to the community.</p>
			<p>Rural Studio is a registered trademark of Auburn University.</p>
			<h3>Rural Studio News</h3>
			<p><a href="http://www.aia.org/practicing/awards/2015/whitney-young/auburn-university/">The American Institute of Architects honors Rural Studio with the 2015 Whitney M. Young Jr. Award</a></p>
			<p><a href="http://www.papress.com/html/book.details.page.tpl?isbn=9781616891534">Rural Studio At Twenty: Designing and Building in Hale County, Alabama is now available for purchase. Buy the new Rural Studio book today!</a></p>
			<a href="http://www.papress.com/html/book.details.page.tpl?isbn=9781616891534">
				<p><strong></strong></p>
			</a>

			<h3>Recent Blog Posts</h3>
			<div id="recentBlogPosts">Loading....</div>
		</div>
	</div>
</div>
<!--Photo Credit-->
<div id="photo-credit"></div>
<script>	
$(document).ready(function(){

	/* these are page load and resize javascript adjustment*/

	var resizeTimer;
	var PSTHeight;
	var currentHeight;


	$(window).resize(function() {
		clearTimeout(resizeTimer);
		resizeTimer = setTimeout(recalcHeight, 20);
	});

	$(window).onorientationchange = function()
	{
		recalcHeight();
	};

	function recalcHeight(){
		currentHeight = $(window).height();
		PSTHeight = (currentHeight - 55);
		$('#PhotoSwipeTarget').css({'height':PSTHeight+'px','position':'fixed'});

	}

	recalcHeight();

	$(".playanchor").fancybox({
		width:640,
		height:360,
		padding: 0,
		openEffect : 'elastic',
		openSpeed  : 300,

		closeEffect : 'none',
		closeSpeed  : 100,

		closeClick : true,

		helpers : {
			overlay : null
		},
		beforeLoad : function() {
			$('#playbutton a').css({'backgroundImage':'none'});
		},
		beforeClose : function() {
			$('#playbutton a').css({'backgroundImage':'url(/images/playbutton.png)'});
		}				
	});

	$(window).bind('orientationEvent', recalcHeight);

});




</script>
<!-- // when this script is run, it sets a variable named tumblr_api_read to the result -->
<script type="text/javascript" src="sites/ruralstudioblogs.org/api/read/json.js"></script>
<!-- // this is the script that builds the html to go in the div above -->
<script type="text/javascript">

// number of posts to fetch
var recent_posts_count = 2;

// maximum length of titles for truncation (plus 3 for ...)
var truncate_length    = 140;

// start a div for the recent posts, you can add any ul,etc, formatting here also
var recentPostsHtml = "<div>";

// loop around and proess recent_post_count number of recent posts
for (var i = 0; i < recent_posts_count; i++) {

// get a post
var post          = tumblr_api_read.posts[i];

// we need to extract different fields for different kinds of post
var extract_field = "";
// we may wish to truncate some (or all, or none) of them
var truncate      = false;
// we may wish to add a prefix to indictae (for example) the kind of post
var prefix        = "";

// In order for this to work really properly, we need to cater for all 
// the different post types that are available ...

// regular 'text' post
if( post.type == "regular")
{
	prefix        = "";
	truncate      = false;
	extract_field = "regular-title";
}

// link post
if( post.type == "link")
{
	prefix        = "";
	truncate      = true;
	extract_field = "link-text";
}

// quote post
if( post.type == "quote")
{
	prefix        = "";
	truncate      = true;
	extract_field = "quote-text";
}

// photo post
if( post.type == "photo")
{
	prefix        ="";
	truncate      = true;
// note we use 'slug' as the field here, because tumblr provides us with
// a nice truncated short clean summary. whereas the captions have html in them
// html like div an p, which will muck up the formatting
extract_field = "slug";
}

// Video post
if( post.type == "video")
{
	prefix        = "";
	truncate      = true;
// slug again, see note above
extract_field = "slug";
}

// Audio post
if( post.type == "audio")
{
	prefix        = "";
	truncate      = true;
// slug again, see note above
extract_field = "slug";
}

// Conversation post
if( post.type == "conversation")
{
	prefix        = "";
	truncate      = true;
	extract_field = "conversation-title";

}

// Ask/Answer post
if( post.type == "answer")
{
	prefix        = "";
	truncate      = true;
// might need to be 'slug' as well
extract_field = "answer";
}

// get the post's url
var url         = post.url;

// get the field we're going to use as the title
var title_field = $.trim( post[extract_field] );

// truncate and add elipses if desired
if( title_field.length > truncate_length )
{
	title_field = title_field.substring( 0, truncate_length ) + "...";
}

// add the prefix is there is one
var title = prefix + title_field;  
title = title.replace(/-/g," ");

// add it into the html string
recentPostsHtml += '<a href="' + url + '" style="text-transform:capitalize">' + title + '</a><br>';

}
recentPostsHtml += '</div>';
$("#recentBlogPosts").html(recentPostsHtml);
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41807731-1', 'ruralstudio.org');
ga('send', 'pageview');

</script>

</body>
</html>